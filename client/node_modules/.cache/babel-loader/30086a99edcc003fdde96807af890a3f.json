{"ast":null,"code":"/** */\nimport axios from 'axios'; //const url = \"http://localhost:5000/api/\"\n\nvar url = process.env.NODE_ENV === 'production' ? \"/api/\" : \"http://localhost:5000/api/\";\nexport function loadArticles() {\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"articles\")).then(function (res) {\n      var articles = res.data;\n      dispatch({\n        type: 'LOAD_ARTICLES',\n        articles: articles\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n}\nexport function getUser(_id) {\n  return axios.get(\"\".concat(url, \"user/\").concat(_id)).then(function (res) {\n    return res.data;\n  }).catch(function (err) {\n    return console.log(err);\n  });\n}\nexport function getUserProfile(_id) {\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"user/profile/\").concat(_id)).then(function (res) {\n      var profile = res.data;\n      dispatch({\n        type: 'SET_PROFILE',\n        profile: profile\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n}\nexport function getArticle(article_id) {\n  return function (dispatch) {\n    axios.get(\"\".concat(url, \"article/\").concat(article_id)).then(function (res) {\n      var article = res.data;\n      dispatch({\n        type: 'VIEW_ARTICLE',\n        article: article\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n} // article_id, author_id, comment\n\nexport function comment() {\n  return function (dispatch) {};\n} //req.body.article_id\n\nexport function clap(article_id) {\n  return function (dispatch) {\n    console.log('clapping...');\n    axios.post(\"\".concat(url, \"article/clap\"), {\n      article_id: article_id\n    }).then(function (res) {\n      dispatch({\n        type: 'CLAP_ARTICLE'\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n} //id, user_id\n\nexport function follow(id, user_id) {\n  console.log(\"\".concat(id, \" following \").concat(user_id));\n  return function (dispatch) {\n    axios.post(\"\".concat(url, \"user/follow\"), {\n      id: id,\n      user_id: user_id\n    }).then(function (res) {\n      dispatch({\n        type: 'FOLLOW_USER',\n        user_id: user_id\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n}\nexport function SignInUser(user_data) {\n  return function (dispatch) {\n    console.log('adding us..');\n    axios.post(\"\".concat(url, \"user\"), user_data).then(function (res) {\n      var user = res.data;\n      console.log('==================signin=======');\n      console.log(user);\n      console.log('==================signin=======');\n      localStorage.setItem('Auth', JSON.stringify(user));\n      dispatch({\n        type: 'SET_USER',\n        user: user\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n}\nexport function toggleClose() {\n  return function (dispatch) {\n    dispatch({\n      type: 'TOGGLE_MODAL',\n      modalMode: false\n    });\n  };\n}\nexport function toggleOpen() {\n  return function (dispatch) {\n    dispatch({\n      type: 'TOGGLE_MODAL',\n      modalMode: true\n    });\n  };\n}","map":{"version":3,"sources":["D:\\Projects\\playground\\playground-medium-clone\\client\\src\\redux\\actions\\actions.js"],"names":["axios","url","process","env","NODE_ENV","loadArticles","dispatch","get","then","res","articles","data","type","catch","err","console","log","getUser","_id","getUserProfile","profile","getArticle","article_id","article","comment","clap","post","follow","id","user_id","SignInUser","user_data","user","localStorage","setItem","JSON","stringify","toggleClose","modalMode","toggleOpen"],"mappings":"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","sourcesContent":["/** */\r\nimport axios from 'axios'\r\n\r\n//const url = \"http://localhost:5000/api/\"\r\nconst url = process.env.NODE_ENV === 'production' ? \"/api/\" : \"http://localhost:5000/api/\"\r\n\r\nexport function loadArticles () {\r\n    return (dispatch) => {\r\n        axios.get(`${url}articles`)\r\n        .then((res) => {\r\n            let articles = res.data\r\n            dispatch({type:'LOAD_ARTICLES', articles})\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\nexport function getUser (_id) {\r\n    return axios.get(`${url}user/${_id}`).then((res)=>{\r\n        return res.data\r\n    }).catch(err=>console.log(err))\r\n}\r\n\r\nexport function getUserProfile (_id) {\r\n    return (dispatch) => {\r\n        axios.get(`${url}user/profile/${_id}`).then((res)=>{\r\n            let profile = res.data\r\n            dispatch({type: 'SET_PROFILE', profile})\r\n        }).catch(err=>console.log(err))\r\n    }\r\n}\r\n\r\nexport function getArticle (article_id) {\r\n    return (dispatch) => {\r\n        axios.get(`${url}article/${article_id}`)\r\n        .then((res) => {\r\n            let article = res.data\r\n            dispatch({type: 'VIEW_ARTICLE', article})\r\n        }).catch((err) => console.log(err))\r\n    }\r\n}\r\n// article_id, author_id, comment\r\nexport function comment () {\r\n    return (dispatch) => {\r\n\r\n    }\r\n}\r\n//req.body.article_id\r\nexport function clap (article_id) {\r\n    return (dispatch) => {\r\n        console.log('clapping...')\r\n        axios.post(`${url}article/clap`,{ article_id }).then((res) => {\r\n            dispatch({type:'CLAP_ARTICLE'})\r\n        }).catch((err)=>console.log(err))\r\n    }\r\n}\r\n//id, user_id\r\nexport function follow (id, user_id) {\r\n    console.log(`${id} following ${user_id}`)\r\n    return (dispatch) => {\r\n        axios.post(`${url}user/follow`,{ id, user_id }).then((res) => {\r\n            dispatch({type:'FOLLOW_USER', user_id})\r\n        }).catch((err)=>console.log(err))        \r\n    }\r\n}\r\n\r\nexport function SignInUser (user_data) {\r\n    return (dispatch) => {\r\n        console.log('adding us..')\r\n        axios.post(`${url}user`,user_data).then((res)=>{\r\n            let user = res.data\r\n            console.log('==================signin=======')\r\n            console.log(user)\r\n            console.log('==================signin=======')\r\n            localStorage.setItem('Auth', JSON.stringify(user))\r\n            dispatch({type: 'SET_USER', user})\r\n        }).catch((err)=>console.log(err))\r\n    }\r\n}\r\n\r\nexport function toggleClose() {\r\n    return (dispatch) => {\r\n        dispatch({type: 'TOGGLE_MODAL', modalMode: false})\r\n    }\r\n}\r\nexport function toggleOpen() {\r\n    return (dispatch) => {\r\n        dispatch({type: 'TOGGLE_MODAL', modalMode: true})        \r\n    }    \r\n}\r\n"]},"metadata":{},"sourceType":"module"}